<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  
<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:t="http://myfaces.apache.org/tomahawk"
  xmlns:mdw="http://www.centurylink.com/mdw/jsf"
  xmlns:rich="http://richfaces.org/rich"
  xmlns:a4j="http://richfaces.org/a4j">
  
  <ui:composition>

    <a4j:form id="roleAdminForm" ajaxSubmit="true" reRender="groupTree" styleClass="mdw_form">       
      <t:panelGrid
        columns="3"
        width="100%"
        cellpadding="6"
        cellspacing="2"
        columnClasses="mdw_label,mdw_value,mdw_error">

        <mdw:label
          for="roleName"
          value="Role Name:"
          required="#{roleItem.editableByCurrentUser}" />
        <h:inputText
          id="roleName"
          value="#{roleItem.name}"
          size="60"
          required="#{roleItem.editableByCurrentUser}"
          disabled="#{!roleItem.editableByCurrentUser}"
          styleClass="mdw_inputField" /> 
        <rich:message for="roleName" errorClass="mdw_error" />
        
        <mdw:label
          for="roleDescription"
          value="Description:" />
        <h:inputText
          id="roleDescription"
          value="#{roleItem.description}"
          size="100"
          disabled="#{!roleItem.editableByCurrentUser}"
          styleClass="mdw_inputField" />
        <rich:message for="groupDescription" errorClass="mdw_error" />
        
        <t:panelGroup rendered="#{workgroupTree.addMode &amp;&amp; workgroupTree.addType == 'Role'}" colspan="3">
          <a4j:commandButton
            id="createRole"
            value="Create Role"
            action="#{workgroupTree.createRole}"
            reRender="adminDetailPanel" />
          <a4j:commandButton 
            id="cancelRole"
            type="reset"
            immediate="true"
            value="Cancel"
            actionListener="#{workgroupTree.cancelAddMode}"
            reRender="adminDetailPanel"
            style="margin-left:15px;" />
        </t:panelGroup>
        
        <t:panelGroup rendered="#{!workgroupTree.addMode &amp;&amp; roleItem.editableByCurrentUser}" colspan="3">
          <h:commandButton 
            id="saveRole"
            value="Save Role"
            action="#{workgroupTree.saveRole}" />
          <h:commandButton
            id="deleteRole" 
            value="Delete Role"
            onclick="return false;"
            style="margin-left:15px;">
            <rich:componentControl
              for="deleteDlg"
              attachTo="deleteRole" operation="show" event="onclick"/>
          </h:commandButton>
        </t:panelGroup>
        
        <t:panelGroup colspan="3">
          <a4j:status>
            <f:facet name="start">
              <h:graphicImage style="margin-left:5px;" value="/images/loading.gif" />
            </f:facet>
            <f:facet name="stop">
              <a4j:outputPanel ajaxRendered="true">
                <h:messages showDetail="true" globalOnly="true" styleClass="mdw_message" style="margin-left:10px;" />
              </a4j:outputPanel>
            </f:facet>
          </a4j:status>
        </t:panelGroup>
      </t:panelGrid>
    </a4j:form>
  </ui:composition>

</html>