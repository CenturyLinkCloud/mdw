<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:t="http://myfaces.apache.org/tomahawk"
  xmlns:mdw="http://www.centurylink.com/mdw/jsf">

  <ui:composition>

    <mdw:navMenu
      id="taskNavLinks"
      label="Task Info"
      styleClass="mdw_navMenu"
      headerClass="mdw_navMenu_header"
      inActiveLinkClass="mdw_navLink"
      activeLinkClass="mdw_navActiveLink">
      
      <mdw:navLink
        id="taskDetailLink"
        label="Task Detail"
        rendered="#{!detailManager.taskDetail.customForm}"
        action="go_taskDetail"
        title="View Task Details">
        <f:setPropertyActionListener
          target="#{arrayDataItemActionController.action}"
          value="#{arrayDataItemActionController.defaultAction}" />
        <f:param name="taskInstanceId" value="#{detailManager.taskDetail.instanceId}" />
      </mdw:navLink>
      <mdw:navLink
        id="taskDetailLinkCustom"
        label="Task Detail"
        rendered="#{detailManager.taskDetail.customForm}"
        action="go_taskForm"
        title="View Task Details">
        <f:setPropertyActionListener
          target="#{arrayDataItemActionController.action}"
          value="#{arrayDataItemActionController.defaultAction}" />
        <f:param name="taskInstanceId" value="#{detailManager.taskDetail.instanceId}" />
      </mdw:navLink>
      <mdw:navLink
        id="subTasksLink"
        label="SubTasks #{detailManager.taskDetail.fullTaskInstance.hasSubTaskInstances ? '*' : ''}"
        rendered="#{detailManager.taskDetail.fullTaskInstance.masterTask}"
        action="go_subTasks"
        title="View SubTask Instances">
        <f:param name="taskInstanceId" value="#{detailManager.taskDetail.instanceId}" />
      </mdw:navLink>
      <mdw:navLink
        id="taskNotesLink"
        label="Task Notes #{listManager.taskNotes.hasItems ? '*' : ''}"
        action="go_taskNotes"
        title="View Task Notes">
        <f:setPropertyActionListener
          target="#{taskNotesActionController.action}"
          value="#{taskNotesActionController.defaultAction}" />
        <f:param name="taskInstanceId" value="#{detailManager.taskDetail.instanceId}" />
      </mdw:navLink>
      <mdw:navLink
        id="taskAttachementsLink"
        label="Task Attachments #{listManager.taskAttachments.hasItems ? '*' : ''}"
        action="go_taskAttachments"
        title="View Task Attachments">
        <f:setPropertyActionListener
          target="#{taskAttachmentsActionController.action}"
          value="#{taskAttachmentsActionController.defaultAction}" />
        <f:param name="taskInstanceId" value="#{detailManager.taskDetail.instanceId}" />
      </mdw:navLink>
      <mdw:navLink
        id="taskHistoryLink"
        label="Task History"
        action="go_taskHistory"
        title="View Task Instance Audit Trail">
        <f:param name="taskInstanceId" value="#{detailManager.taskDetail.instanceId}" />        
      </mdw:navLink>
      <mdw:navLink
        id="taskWorkflowImageLink"
        label="Workflow Image"
        rendered="#{detailManager.taskDetail.fullTaskInstance.ownerType == 'PROCESS_INSTANCE'}"
        action="go_taskWorkflow"
        title="View Workflow Snapshot">
        <f:param name="taskInstanceId" value="#{detailManager.taskDetail.instanceId}" />        
      </mdw:navLink>
      <mdw:navLink
        id="taskDesignerLink"
        label="Designer"
        action="#{processDesignerView.launchDesigner}"
        title="View Workflow in Designer">
        <f:param name="taskInstanceId" value="#{detailManager.taskDetail.instanceId}" />
      </mdw:navLink>
      <mdw:navLink
        id="taskListLink"
        label="Task List"
        action="#{taskListScopeActionController.goTaskList}"
        title="Back to Task List" />

    </mdw:navMenu>

  </ui:composition>

</html>