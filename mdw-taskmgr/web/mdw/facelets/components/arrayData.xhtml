<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:t="http://myfaces.apache.org/tomahawk"
  xmlns:mdw="http://www.centurylink.com/mdw/jsf">

  <ui:composition>
  
    <t:panelGroup rendered="#{rendered}">
      
      <t:dataTable cellpadding="0px" cellspacing="0px"
        id="arrayDataTable"
        value="#{dataItem.dataValue}"
        width="100%"
        columnClasses="mdw_vertDividingLine"
        var="listItem"
        rowIndexVar="rowIndex">
        <t:column rendered="#{dataItem.map}">
          <t:outputText
            value="#{listItem.name}:"
            styleClass="mdw_detailsLabelColumn" />
        </t:column>
        <t:column>
          <t:inputText
            id="arrayDataInputText"
            rendered="#{dataItem.valueEditable &amp;&amp; !dataItem.select}"
            value="#{dataItem.arrayValues[rowIndex]}"
            dataType="#{dataItem.dataType}"
            immediate="true"
            styleClass="mdw_inputFieldWide"
            sequenceId="#{sequenceId}">
            <f:converter converterId="stringDataConverter" />
            <mdw:validator
              id="arrayDataInputTextValidator" 
              rendered="#{dataItem.dataType == 'java.lang.Integer[]' || dataItem.dataType == 'java.lang.Long[]'}"
              validatorId="dataItemValidator"
              sequenceId="#{sequenceId}" />              
          </t:inputText>
          <t:message for="arrayDataInputText" styleClass="mdw_message" />
          <t:selectOneMenu 
            id="arrayDataSelect"
            rendered="#{dataItem.valueEditable &amp;&amp; dataItem.select}"
            value="#{dataItem.arrayValues[rowIndex]}"
            immediate="true"
            styleClass="mdw_inputFieldWide">
            <f:converter converterId="stringDataConverter" />
            <f:selectItems value="#{dataItem.selectList}" />
          </t:selectOneMenu>
          <t:outputText
            rendered="#{!dataItem.valueEditable}"
            value="#{listItem}"
            styleClass="mdw_detailText" 
            style="word-wrap:break-word;" />
          <t:commandLink
            rendered="#{dataItem.valueEditable &amp;&amp; dataItem.allowArrayResize}"
            action="#{dataItem.performLinkAction}"
            immediate="true"
            styleClass="mdw_links">
            <t:outputText
              value="Delete"
              styleClass="mdw_detailText" />
            <f:param 
              name="deleteItem" 
              value="Delete" />
            <f:param 
              name="arrayDataRowIndex_#{sequenceId}" 
              value="#{rowIndex}" />
          </t:commandLink>
        </t:column>
      </t:dataTable>
      <t:panelGroup
        rendered="#{dataItem.valueEditable &amp;&amp; dataItem.allowArrayResize}">
        <t:inputText
          id="arrayDataAddNameText"
          rendered="#{dataItem.valueEditable &amp;&amp; dataItem.map}"
          value="#{arrayDataElement.stringValue}"
          immediate="true"
          styleClass="mdw_inputField" />
        <t:inputText
          id="arrayDataAddText"
          rendered="#{dataItem.valueEditable &amp;&amp; !dataItem.select}"
          value="#{arrayDataElement.stringValue}"
          dataType="#{dataItem.dataType}"
          immediate="true"
          styleClass="mdw_inputFieldWide"
          sequenceId="#{sequenceId}">
          <mdw:validator
            id="arrayElementAddTextValidator" 
            rendered="#{dataItem.dataType == 'java.lang.Integer[]' || dataItem.dataType == 'java.lang.Long[]'}"
            validatorId="dataItemValidator"
            sequenceId="#{sequenceId}" />
        </t:inputText>
        <t:selectOneMenu 
          id="arrayDataAddSelect"
          rendered="#{dataItem.valueEditable &amp;&amp; dataItem.select}"
          value="#{arrayDataElement.stringValue}"
          immediate="true"
          styleClass="mdw_inputFieldWide">
          <f:converter converterId="stringDataConverter" />
          <f:selectItems value="#{dataItem.selectList}" />
        </t:selectOneMenu>
        <t:commandButton
          id="arrayDataAddButton"
          rendered="#{sequenceId == arrayDataElement.sequenceId || arrayDataElement.stringValue == '' || arrayDataElement.stringValue == null &amp;&amp; arrayDataItemActionController.action == 'list'}"
          value="Add"
          action="#{arrayDataItemActionController.add}"
          styleClass="mdw_detailFormButtons" />
        <t:message for="arrayDataAddText" styleClass="mdw_message" />
      </t:panelGroup> 
      
    </t:panelGroup>
        
  </ui:composition>

</html>

