applications:
- name: {{project}}
  instances: 1
  host: {{project}}
  buildpack: https://github.com/CenturyLinkCloud/mdw-buildpack.git
  timeout: 180

env:
  JAVA_OPTS: -Dmdw.runtime.env=paasDev -Dmdw.property.manager=com.centurylink.mdw.config.PaaSPropertyManager 
  
  JBP_CONFIG_SPRING_AUTO_RECONFIGURATION: "[enabled: false]"
  
  MDW_VERSION: "{{mdw-version}}"
  MDW_OAUTH_TOKEN_LOCATION: "http://{{project}}.useast.appfog.ctl.io/oauth/token"
  MDW_ASSET_LOCATION: "{{asset-loc}}"
  
  mdw_seed_users: '{
    "users":  [
      {
        "name": "{{user}}",
        "cuid": "{{user}}",
        "groups": [
          "Developers",
          "Site Admin"
        ],
        "roles": [
          "User Admin",
          "Process Execution",
          "Process Design",
          "Task Execution"
        ]            
      },
      {
        "name": "MDW Application",
        "id": "mdwapp",
        "attributes": {
          "emailAddress": "mdwapp@centurylink.com"
        },      
        "groups": [
          "Developers",
          "Site Admin"
        ],
        "roles": [
          "User Admin",
          "Process Execution",
          "Process Design",
          "Task Execution"
        ]            
      }
    ]
  }'
    
  mdw_properties: '{
    "mdw.container.datasource_provider": "Tomcat",
    "mdw.container.jms_provider": "ActiveMQ",
    "mdw.activemq.connector.url": "tcp://localhost:62626",
    "mdw.activemq.connection.factory": "mdw-activemq",
    "mdw.activemq.local.connector.url": "vm://mdw-activemq",
    "mdw.container.threadpool_provider": "MDW",
    "mdw.container.messenger": "jms",
    
    "mdw.database.driver": "{{database-driver}}",
    "mdw.database.url": "{{database-url}}",
    "mdw.database.username": "{{database-user}}",
    "mdw.database.password": "{{database-password}}",
    "mdw.database.poolsize": "10",
    "mdw.database.poolMaxIdle": "5",
    "mdw.database.validationQuery": "select 1 from dual",
    
    "mdw.server.list": "{{project}}.useast.appfog.ctl.io:80",
    
    "mdw.logging.level": "DEBUG",
  
    "mdw.temp.dir": "../mdw/.temp",
    
    "mdw.git.local.path": ".",
    "mdw.git.remote.url": "{{git-remote-url}}",
    "mdw.git.branch": "{{git.branch}}",
    "mdw.git.user": "{{git.user}}",
  
    "mdw.hub.url": "https://{{project}}.useast.appfog.ctl.io/mdw",
    "mdw.services.url": "http://{{project}}.useast.appfog.ctl.io:80/mdw",
    "mdw.discovery.url": "{{discovery-url}}",
      
    "mdw.application.name": "{{project}}",
    
    "mdw.script.executor.groovy": "com.centurylink.mdw.script.GroovyExecutor",
    "mdw.script.executor.javascript": "com.centurylink.mdw.script.JavaScriptExecutor",
    
    "mdw.filepanel.root.dirs": ".",
    "mdw.filepanel.exclude.patterns": ".git"
  }'
  
  mdw_access: |
    authMethod: af 
    authTokenLoc: http://{{project}}.useast.appfog.ctl.io/oauth/token
    
    devUser: {{user}}
    
    responseHeaders:  
      X-UA-Compatible: IE=Edge
      
    sessionTimeout: 3600
    
    authExclusions:
      - '/login'
      - '/error'
      - '/offline'
      - '/sysInfo'
      - '/images/*'
      - '/css/*'
      - '/doc/*'
      - '/javadoc/*'
      - '/filepanel/*'
      - '/services/*'
      - '/Services/*'
      - '/api/*'
      - '/asset/*'
    
    loggingOptions:
      logResponseTimes: false  
      logHeaders: false
      logParameters: false