<html>
<head>
<title>OSGi Service Adapter</title>
<link rel="stylesheet" type="text/css" href="docstyle.css"/>
</head>
<body>
<h1>OSGi Service Adapter</h1>

The MDW OSGi Service Adapter supports configuration-based invocation of <a href="http://www.osgi.org/Technology/WhatIsOSGi">OSGi Services</a>.
The service interface must reside in MDW as a Dynamic Java <a href="workflowAssets.html">Workflow Asset</a>.
Typically the interface contract is negotiated with the service provider and is included in the codebase of an OSGi bundle,
but the master copy is also imported into an MDW workflow package and is publicized through a URL like the following:<br/>
http://host:port/MDWWeb/resources/com.centurylink.mypackage/IMyService.java 
<br/>
<br/>
<h3>Design Attributes</h3>
The basic design parameters for configuring an OSGi Service Adapter are illustrated in the screenshot below.<br/>
<span style="font-style:italic;">Note: </span>The workflow assets used in this illustration are available in package "com.centurylink.mdw.demo.osgi", which can be imported into your environment
by right-clicking on your project in Process Explorer view and selecting Import > Workflow Package > Discover > demo > osgi.
<br/><br/>
<img src="images/osgiServiceAdapter.jpg" />

<h4 style="margin-bottom:0">Service Interface</h4>
Select a Java asset in the TreeCombo widget that identifies the OSGi service interface.<br/>
<span style="font-style:italic;">Note: </span>All Java assets are displayed in the selector, but you should select one that contains an interface rather than a class.
And this interface must be registered as a service and provided by some OSGi bundle and available at runtime. 
 
<h4 style="margin-bottom:0">Service Method</h4>
Once you've selected a Service Interface, the Method dropdown widget is populated with the available methods.<br/>
<span style="font-style:italic;">Note: </span>Designer uses the Eclipse APIs for identifying the interface methods.
In order for the dropdown to be populated correctly, the Dynamic Java interface asset must have been opened in Designer so that Eclipse JDT has a chance to parse the source code.
  
<h4 style="margin-bottom:0">Result Varable</h4>
The Result Variable dropdown is used to associate the return value from the OSGi service method with a process variable.
The options in the Result Variable dropdown include java.lang.String variables in your process as well as all the <a href="variable.html#documents">Document Variables</a> (including java.lang.Objects).

<h4 style="margin-bottom:0">Parameters</h4>
The arguments to the service method are bound to runtime values through the MDW <a href="bindingExpressions.html">binding expressions</a> syntax.
Your expression has implicit access to your process variables, and typically these are referenced in the expressions to populate the method parameters.

</body>
</html>
