<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 12 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-link:"Balloon Text Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:8.0pt;
	font-family:"Tahoma","sans-serif";}
span.BalloonTextChar
	{mso-style-name:"Balloon Text Char";
	mso-style-link:"Balloon Text";
	font-family:"Tahoma","sans-serif";}
 /* Page Definitions */
 @page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US link=blue vlink=purple>

<div class=WordSection1>

<p class=MsoNormal align=center style='text-align:center'><span
style='font-size:18.0pt'>MDW Coding Guidelines</span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The following standards should be followed as generally
accepted good programming practices when developing MDW Workflow projects or
the MDW Framework.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='margin-bottom:3.0pt'><u>General</u></p>

<ol style='margin-top:0in' start=1 type=1>
 <li class=MsoNormal>To ensure compliance with coding style and formatting
     conventions, import the following into your Eclipse workspace preferences
     (Window &gt; Preferences &gt; Java &gt; Code Style):</li>
 <ol style='margin-top:0in' start=1 type=a>
  <li class=MsoNormal>Formatter: <br clear=all>
      <a
      href="http://cshare.ad.qintra.com/sites/MDW/Developer%20Resources/Environment/MDWCodeFormatter.xml">http://cshare.ad.qintra.com/sites/MDW/Developer%20Resources/Environment/MDWCodeFormatter.xml</a></li>
  <li class=MsoNormal>Templates:<br clear=all>
      <a
      href="http://cshare.ad.qintra.com/sites/MDW/Developer%20Resources/Environment/MDWCodeTemplates.xml">http://cshare.ad.qintra.com/sites/MDW/Developer%20Resources/Environment/MDWCodeTemplates.xml</a></li>
 </ol>
 <li class=MsoNormal style='margin-top:6.0pt'>Incorporate JavaDoc comments into
     your code for each top-level type (class or interface), and for each
     method whose implementation contains significant processing logic.  A
     method whose purpose is readily apparent from its name (such as a simple
     getter or setter) does not require a JavaDoc comment.</li>
 <li class=MsoNormal style='margin-top:6.0pt'>Method names should be verb-based
     to indicate the action or outcome which will result from invoking the
     method (eg: <span style='font-size:10.0pt;font-family:"Courier New"'>createProcessInstance()</span>).</li>
 <li class=MsoNormal style='margin-top:6.0pt'>Maximize readability by keeping
     your code modular.  Avoid long and confusing method implementations by
     keeping your methods granular and chaining method calls where each call
     performs a discreet portion of your logic.  For situations involving
     complex processing where lengthy methods are unavoidable, include comments
     in your code to explain what is happening so that other developers will be
     able to understand the flow.</li>
</ol>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.25in;margin-bottom:.0001pt'><u><span style='text-decoration:none'>&nbsp;</span></u></p>

<p class=MsoNormal style='margin-top:6.0pt'><u>Logging</u></p>

<ol style='margin-top:0in' start=5 type=1>
 <li class=MsoNormal style='margin-top:6.0pt'>Application logging should employ
     an MDW StandardLogger instance obtained by calling
     LoggerUtil.getInstance().getStandardLogger().  Do not use
     System.out.println().  Store the logger as an instance variable, and avoid
     accessing the logger instance of your superclass (this can lead to
     confusion since the class reported in the log file will be the superclass
     instead of the subclass where the logger method was invoked).</li>
</ol>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt'>&nbsp;</p>

<ol style='margin-top:0in' start=6 type=1>
 <li class=MsoNormal style='margin-top:6.0pt'>Note: when implementing a custom
     activity, use the BaseActivity superclass methods such as logdebug() ,
     logwarn(), logsevere(), logexception(), etc. These methods have built in
     formatting which contains information about process, process instance,
     activity and activity instance.</li>
</ol>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt;text-indent:.5in'>logdebug((&quot;Listener
Invoked: Message is &quot; + msg.getString());</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt'>From within Groovy script or Dynamic
Java activities, access to these methods is provided via the
ActivityRuntimeContext:</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt'>runtimeContext.logdebug(….)</p>

<ol style='margin-top:0in' start=7 type=1>
 <li class=MsoNormal style='margin-top:6.0pt'>For logging output at INFO or
     DEBUG levels, test whether the appropriate logging level is enabled before
     building your output parameter string value.  This avoids the overhead of
     concatenating and building the output string when it may be discarded by
     the logger if logging is not enabled at the specified level.</li>
</ol>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt'>Incorrect:</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt;text-indent:.5in'>logdebug(&quot;Listener
Invoked: Message is &quot; + msg.getString());</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt'>Correct:</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt;text-indent:.5in'>if (isDebugEnabled())
{</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt'>                         logdebug
(&quot;Listener Invoked: Message is &quot; + msg.getString());</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt;text-indent:.5in'>}</p>

<p class=MsoNormal style='margin-top:6.0pt'><u>Exception Handling</u></p>

<ol style='margin-top:0in' start=8 type=1>
 <li class=MsoNormal style='margin-top:6.0pt'>When deciding whether to catch an
     Exception, consider whether your code is the appropriate place to handle
     the exception.  If you have catch blocks for multiple exceptions which all
     contain the same behavior, it is more readable and maintainable to catch a
     common base exception type.</li>
</ol>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt'>Incorrect:</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt'><span style='font-size:10.0pt;
font-family:"Courier New"'>catch (ServiceLocatorException ex) {</span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:10.0pt;
font-family:"Courier New"'>    logger.severeException(ex.getMessage(), ex);</span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:10.0pt;
font-family:"Courier New"'>}</span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:10.0pt;
font-family:"Courier New"'>catch (EventException ex) {</span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:10.0pt;
font-family:"Courier New"'>    logger.severeException(ex.getMessage(), ex);</span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:10.0pt;
font-family:"Courier New"'>}</span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:10.0pt;
font-family:"Courier New"'>catch (DataAccessException ex) {</span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:10.0pt;
font-family:"Courier New"'>    logger.severeException(ex.getMessage(), ex);</span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:10.0pt;
font-family:"Courier New"'>}</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt'>Correct:</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt'><span style='font-size:10.0pt;
font-family:"Courier New"'>catch (MDWException ex) {</span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:10.0pt;
font-family:"Courier New"'>    logger.severeException(ex.getMessage(), ex);</span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:10.0pt;
font-family:"Courier New"'>}</span></p>

<ol style='margin-top:0in' start=9 type=1>
 <li class=MsoNormal style='margin-top:6.0pt'>It is legitimate to catch an
     exception in order to rethrow it as an exception type declared in your
     message header.  In this case it is best to wrap the originating exception
     in your rethrown exception so that when it is logged the entire exception
     causality chain will be available.</li>
</ol>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt'>Incorrect:</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt'><span style='font-size:10.0pt;
font-family:"Courier New"'>catch (EventException ex) {</span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:10.0pt;
font-family:"Courier New"'>    throw new BusListenerException(EXCEPTION_CD,
ex.getMessage());</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt'><span style='font-size:10.0pt;
font-family:"Courier New"'>}</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt'>Correct:</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt'><span style='font-size:10.0pt;
font-family:"Courier New"'>catch (EventException ex) {</span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:10.0pt;
font-family:"Courier New"'>    throw new BusListenerException(EXCEPTION_CD,
ex.getMessage(), ex);</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt'><span style='font-size:10.0pt;
font-family:"Courier New"'>}</span></p>

<p class=MsoNormal style='margin-top:6.0pt'><span style='font-size:10.0pt;
font-family:"Courier New"'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:6.0pt'><u>Collections</u></p>

<ol style='margin-top:0in' start=10 type=1>
 <li class=MsoNormal style='margin-top:6.0pt'>Specify the general java.util
     collection Interfaces (List, Map, etc) in your APIs rather than specific
     implementations (ArrayList, HashMap, etc).  This provides a level of
     encapsulation which will enable the underlying implementation to change
     without requiring an interface change.</li>
 <li class=MsoNormal style='margin-top:6.0pt'>When accessing a collection
     returned by an API, treat the returned value as the general purpose entity
     rather than casting to the underlying type:</li>
</ol>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt'>Incorrect:</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt'><span style='font-size:10.0pt;
font-family:"Courier New"'>ArrayList orderItems = (ArrayList)
serviceEjb.getOrderItems();</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt'><span style='font-size:10.0pt;
font-family:"Courier New"'>OrderItem firstItem = (OrderItem) orderItems.get(0);</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt'>Correct:</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt'><span style='font-size:10.0pt;
font-family:"Courier New"'>Collection orderItems = serviceEjb.getOrderItems();</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt'><span style='font-size:10.0pt;
font-family:"Courier New"'>Iterator orderIter = orderItems.iterator();</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt'><span style='font-size:10.0pt;
font-family:"Courier New"'>while (orderIter.hasNext()) {</span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:10.0pt;
font-family:"Courier New"'>    OrderItem item = (OrderItem) orderIter.next();</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt'><span style='font-size:10.0pt;
font-family:"Courier New"'>}</span></p>

<p class=MsoNormal style='margin-top:6.0pt'>&nbsp;</p>

<p class=MsoNormal style='margin-top:6.0pt'><u>MDW</u></p>

<ol style='margin-top:0in' start=12 type=1>
 <li class=MsoNormal style='margin-top:6.0pt'>Access to the Hibernate-specific model
     implementation classes in your workflow should be encapsulated in your
     Data Access Objects.  The goal is to isolate references to our persistence
     layer implementation so that if desired we can easily decouple from
     Hibernate and plug in another Object/Relational mapping library.</li>
 <li class=MsoNormal style='margin-top:6.0pt'>Much commonly-used functionality
     is encapsulated in the base classes provided by the MDWFramework. 
     Developers should take some time familiarizing themselves with the
     MDWFramework API so that they are aware of what's available.  The JavaDoc
     information for MDWFramework is published to the following URL:<br
     clear=all>
     <a
     href="http://cshare.ad.qintra.com/sites/MDW/Developer%20Resources/Framework%20API%20JavaDocs.html">http://cshare.ad.qintra.com/sites/MDW/Developer%20Resources/Framework%20API%20JavaDocs.html</a></li>
</ol>

<p class=MsoNormal style='margin-top:6.0pt'><u><span style='text-decoration:
 none'>&nbsp;</span></u></p>

<p class=MsoNormal style='margin-top:6.0pt'><u>XMLBeans</u></p>

<ol style='margin-top:0in' start=14 type=1>
 <li class=MsoNormal style='margin-top:6.0pt'>XMLBeans provide the binding
     framework for converting XML documents to Java objects based on their
     schema definitions.  The XMLBean document objects are usually closely
     coupled to the particular system interface defined in the XSD (for example
     an interface between NotificationWorkflow and NFS).  Avoid directly
     accessing elements in your XMLBeans in your mainline workflow processing
     so that your workflow is insulated from interface changes.  One strategy
     have been employed to provide this separation:</li>
 <ol style='margin-top:0in' start=1 type=a>
  <li class=MsoNormal style='margin-top:6.0pt'>Create XMLBean wrapper classes
      to expose an interface-independent view of your XML data.  The wrapper
      classes encapsulate the logic for mapping between the XML document and
      the data model.  For an example of this approach see OrderDetailsWrapper.java
      in ESOWF project.</li>
 </ol>
</ol>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt'>Either way, the convention is to
include your structure/wrapper classes in a project module called <i>WorkflowName</i>Structures. 
These structures should not have dependencies on anything other than your
schemas module and your model module.</p>

<ol style='margin-top:0in' start=15 type=1>
 <li class=MsoNormal style='margin-top:6.0pt'>XMLBeans provide an Enum
     implementation for XSD elements whose values are governed by xsd:string
     enumeration restrictions.  To take advantage of the type safety built into
     the Enums, always test and set these element values using enumeration
     constants:</li>
</ol>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt'>Incorrect:</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt'><span style='font-size:10.0pt;
font-family:"Courier New"'>if (request.requestType().toString().equals(&quot;NEW&quot;))
{</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt'><span style='font-size:10.0pt;
font-family:"Courier New"'>    …</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt'><span style='font-size:10.0pt;
font-family:"Courier New"'>}</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt'>Correct:</p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt'><span style='font-size:10.0pt;
font-family:"Courier New"'>if
(request.getRequestType().equals(RequestDocument.Request.NEW)) {</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt'><span style='font-size:10.0pt;
font-family:"Courier New"'>    …</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt'><span style='font-size:10.0pt;
font-family:"Courier New"'>}</span></p>

<p class=MsoNormal style='margin-top:6.0pt'>&nbsp;</p>

<p class=MsoNormal style='margin-top:6.0pt'>&nbsp;</p>

<p class=MsoNormal style='margin-top:6.0pt'>&nbsp;</p>

</div>

</body>

</html>
