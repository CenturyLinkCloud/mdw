<!DOCTYPE html>

<mdw:html
  manifest="#{manifest}"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:t="http://myfaces.apache.org/tomahawk"
  xmlns:mdw="http://www.centurylink.com/mdw/jsf">

<h:head>
  <meta
    http-equiv="Content-Type"
    content="text/html; charset=ISO-8859-1" />
  <title>#{title == null ? "MDWHub" : title}</title>
</h:head>

<body class="mdw_body">

  <!-- RichFaces bug https://community.jboss.org/message/614558 -->
  <t:stylesheet path="/css/mdw.css" />
  <t:stylesheet path="/css/mdw-hub.css" />
  <mdw:javascriptInclude fileLocation="/resources/com.centurylink.mdw.reports/jquery.min.js" />
  <mdw:javascriptInclude fileLocation="/resources/com.centurylink.mdw.reports/jquery-ui.min.js" />
  
  <h:form>
   
  
    <table><!-- tr><td><h:outputText value="Report #{mdwReport.name} Filter #{mdwReport.filter.name}" /></td></tr-->
      <!--  tr><td><h:outputText value="request #{param['mdwReport']}" /></td></tr>
      h:inputHidden id="mdwReportName" value="#{param['mdwReport']}"/-->
              <input type="hidden"
          id="mymdwReport" 
          name="mdwReport" 
          value="#{param['mdwReport']}" />    
      
      <tr>
         <td style="align:left;vertical-align: top"><mdw:panel
            id="reportFilterPanel"
            label="Report Filters"
            collapsible="true"
            horizontal="false"
            styleClass="mdw_panel">
            <div style="min-width: 165px;">
              <mdw:listFilter
                id="reportFilter"
                filterEntity="#{mdwReport.filter}"
                renderPrefsButton="false"
                submitButtonLabel=" Apply " />
            </div>
          </mdw:panel></td></tr>
          <!-- remembers the name from the original request -->
        <tr>
        <td style="align:left;vertical-align: top; width: 100%; padding-left: 8px; padding-right: 5px;"><mdw:panel
            id="reportPanel"
            label="#{mdwReport.title}"
            styleClass="mdw_panel">
            <f:facet name="headerButtons">
              <h:panelGroup>
                <h:commandLink
                  title="Refresh"
                  styleClass="mdw_panelImage"
                  style="float:none;margin-left:10px;">
                  <h:graphicImage
                    value="/images/refresh.gif"
                    alt="Refresh" />
                </h:commandLink>
                <h:commandLink
                  title="Export"
                  styleClass="mdw_panelImage"
                  style="float:none;">
                  <h:graphicImage
                    value="/images/excel.gif"
                    alt="Export" />
                    <f:param name="exportReportToExcel" value="exportReportToExcel" /> 
                </h:commandLink>
              </h:panelGroup>
            </f:facet>
            <div style="width: 100%;">
              <mdw:report
                id="birtReport"
                reportEntity="#{mdwReport}" />
            </div>
          </mdw:panel></td>
      </tr>
    </table>
  </h:form>
</body>
</mdw:html>