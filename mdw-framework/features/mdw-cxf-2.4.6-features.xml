<!-- Changes versus standard CXF:
   - http feature dependency tolerates version 3_1.1.1
   - remove obsolete cxf-war-java5 which depends on obsolete pax web bundles 
   - remove spring-jms dependency which indirectly depends on old http -->
<features>
  <feature name="mdw-cxf" version="2.4.6" resolver='(obr)'>
    <feature version="2.4.6">cxf-specs</feature>
    <bundle>mvn:commons-lang/commons-lang/2.6</bundle>
    <bundle>mvn:commons-collections/commons-collections/3.2.1</bundle>

    <bundle start-level='20'>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.fastinfoset/1.2.7_3</bundle>
    <bundle start-level='20'>mvn:org.codehaus.woodstox/stax2-api/3.1.1</bundle>
    <bundle start-level='20'>mvn:org.codehaus.woodstox/woodstox-core-asl/4.1.1</bundle>

    <feature version='2.4.6'>cxf-jaxb</feature>
    <feature>http</feature>
    <!-- 
    <feature version="[2,3)">cxf-war-java5</feature>
     -->
     
    <feature version="[3,4)">spring</feature>
    <feature version="[1.2,2)">spring-dm</feature>
    <!--  
    <feature version="[3,4)">spring-jms</feature>
    -->
    <feature version="1.6.4">wss4j</feature>
    <feature version="[7.2,8)">jetty</feature>
    <feature version='2.4.6'>cxf-abdera</feature>
    <feature version="2.4.6">cxf-saaj-impl</feature>
    
    <bundle dependency="true">mvn:org.apache.neethi/neethi/3.0.1</bundle>
    <bundle dependency="true">mvn:org.apache.ws.xmlschema/xmlschema-core/2.0.1</bundle>

    <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.asm/3.3_2</bundle>
    <bundle dependency="true">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.wsdl4j/1.6.2_3</bundle>
    <bundle>mvn:org.codehaus.jettison/jettison/1.3.1</bundle>
    <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.xmlbeans/2.4.0_4</bundle>
    <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.rhino/1.7R2_1</bundle>
    <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.xmlresolver/1.2_3</bundle>
    <bundle dependency="true">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.xerces/2.9.1_4</bundle>
    <bundle dependency="true">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.bcel/5.2_3</bundle>
    <bundle dependency="true">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.xalan/2.7.1_3</bundle>
    <bundle dependency="true">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.oro/2.0.8_4</bundle>
    <bundle dependency="true">mvn:org.apache.velocity/velocity/1.7</bundle>
    <bundle dependency="true">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.jdom/1.1_3</bundle>

    <bundle start-level='30'>mvn:org.apache.cxf/cxf-bundle/2.4.6</bundle>
  </feature>
    
  <feature name='mdw-camel-cxf' version='2.8.4' resolver='(obr)' start-level='50'>
    <feature version='2.8.4'>camel-spring</feature>
    <feature>jetty</feature>
    <!-- Added cxf-specs feature to workaround the karaf feature validate issue -->
    <feature version='[2.4,2.6)'>cxf-specs</feature>
    <feature version='[2.4,2.6)'>mdw-cxf</feature>
    <bundle>mvn:org.apache.camel/camel-cxf-transport/2.8.4</bundle>
    <bundle>mvn:org.apache.camel/camel-cxf/2.8.4</bundle>
  </feature>
    
</features>