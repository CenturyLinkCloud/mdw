<?xml version="1.0" encoding="UTF-8"?>
<!-- spring config file for MDW wars deployed in tomcat -->
<beans
  xmlns="http://www.springframework.org/schema/beans"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:ctx="http://www.springframework.org/schema/context"
  xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
                      http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd">

  <!-- The assumption is that the mdw.properties file is used on Tomcat as well as the system property 
    mdw.config.location -->
  <ctx:property-placeholder location="file:${mdw.config.location}/mdw.properties" />

  <!-- Note this id must match the id in the code -->
  <bean
    id="MDWDataSource"
    class="org.apache.commons.dbcp.BasicDataSource"
    destroy-method="close">
    <property
      name="driverClassName"
      value="${mdw.database.driver}" />
    <property
      name="url"
      value="${mdw.database.url}" />
    <property
      name="username"
      value="${mdw.database.username}" />
    <property
      name="password"
      value="${mdw.database.password}" />
    <property
      name="maxActive"
      value="${mdw.database.poolsize}" />
    <property
      name="maxIdle"
      value="${mdw.database.poolMaxIdle}" />
    <property
      name="validationQuery"
      value="SELECT 1 FROM DUAL" />
    <property
      name="testOnBorrow"
      value="true" />
    <property
      name="testWhileIdle"
      value="true" />
    <property
      name="removeAbandoned"
      value="true" />
    <property
      name="logAbandoned"
      value="true" />
    <property
      name="removeAbandonedTimeout"
      value="600" />
  </bean>
  
  <!-- Baseline Data -->
  <bean
    id="mdwBaselineData"
    class="com.centurylink.mdw.dataaccess.file.MdwBaselineData" />
  
</beans>
