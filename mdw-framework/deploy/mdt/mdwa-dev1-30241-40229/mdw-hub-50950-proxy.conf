# File: proxy.conf
# Docs: http://httpd.apache.org/docs/2.2/mod/mod_proxy.html

# ------------------------
# Configuration requires the following modules be uncommented in httpd.conf
#       LoadModule proxy_module modules/mod_proxy.so
#       LoadModule proxy_http_module modules/mod_proxy_http.so
#       LoadModule proxy_balancer_module modules/mod_proxy_balancer.so

# ------------------------
# Below configuation is for HTTPS. For HTTP just remove the "s" from https below.
# ------------------------

ProxyRequests Off
ProxyTimeout 60
ProxyStatus On
ProxyPreserveHost On 


## Mod_Proxy Configuration ##
<Proxy balancer://mdwa-dev1>
BalancerMember http://ne1itcdrhfuse16.dev.intranet:8001 route=mdwa_dev1_1 loadfactor=1  ping=10 ttl=600 max=50
BalancerMember http://ne1itcdrhfuse16.dev.intranet:8003 route=mdwa_dev1_1a loadfactor=1  ping=10 ttl=600 max=50
Order deny,allow
Allow from all
</Proxy>

ProxyPass        /MDWHub  balancer://mdwa-dev1/MDWHub  stickysession=JSESSIONID|jsessionid timeout=10
ProxyPassReverse /MDWHub  balancer://mdwa-dev1/MDWHub/

ProxyPass        /mdw-admin  balancer://mdwa-dev1/mdw-admin  stickysession=JSESSIONID|jsessionid timeout=10
ProxyPassReverse /mdw-admin  balancer://mdwa-dev1/mdw-admin/

RequestHeader set X-Forwarded-Proto "https"

