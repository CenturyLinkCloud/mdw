# RSA Access Manager (ClearTrust) web agent configuration file suitable for
# private deployment environments and for applications to be deployed to the
# ECOM / FOSS environments. This version of the template is for the
#
# RSA AxM Apache Agent for Apache 2.2.x-based HTTP Server Version 4.9SP1
#
# Running the shell script ConfigureAMAgent.sh will take the properties that
# you entered in the ctagent.properties file and modify this file. It will
# also make a copy of your existing webagent.conf file and copy this file
# to the proper directory and re-name it webagent.conf.
#
# The MyAppl and %%COOKIEDOMAIN%% entries below must be substituted
# with appropriate values (see the Application Developer's Guide"). Aside
# from these, generally the only thing you will need to change is in
# the <VirtualHost> section at the very end. But also search for the term
# 'troubleshooting' if you are having problems.
#                                   - Application Security Team
<Global>
# 'Critical' for production, 'Debug' when troubleshooting.
cleartrust.agent.log_level=Critical
# Set to 04 if the web server is bounced daily such that webagent.log NEVER
# rolls over, else, set to 20. Failure to do so can hang Apache!
cleartrust.agent.log_flags=04
cleartrust.agent.log_file=/opt/apache/qwest/websites/vmsu-int1-30150-40136/logs/webagent.log
cleartrust.agent.log_file_rotation_maxsize=200 Mbs
cleartrust.agent.log_file_rotation_interval=150 Hrs
cleartrust.agent.log_format="%t - [%p/%i] - <%d> - "
# Set log_pool_option to 'Both' for troubleshooting AxM.
cleartrust.agent.log_pool_option=None
cleartrust.agent.debug_modules=
cleartrust.agent.log_process_safe_file_rotation=False
cleartrust.agent.protected_resource_cache_ttl=10 Mins
cleartrust.agent.protected_resource_cache_size=10000
cleartrust.agent.unprotected_resource_cache_ttl=5 Mins
cleartrust.agent.unprotected_resource_cache_size=10000
cleartrust.agent.authz_allow_cache_ttl=5 Mins
cleartrust.agent.authz_allow_cache_size=10000
cleartrust.agent.authz_deny_cache_ttl=10 Mins
cleartrust.agent.authz_deny_cache_size=10000
cleartrust.agent.token_cache_ttl=5 Mins
cleartrust.agent.token_cache_size=10000
cleartrust.agent.shared_pool.enable=True
cleartrust.agent.user_properties_cache_ttl=10 Mins
cleartrust.agent.user_properties_cache_size=10000
cleartrust.agent.web_server_name=ctl.foss.vmsu
cleartrust.agent.wax=
# Always true whether domain or site cookie is desired. (Bug??)
cleartrust.agent.sso=True
cleartrust.agent.session_lifetime=8 Hrs
# If you increase this, do the same on session for your app server.
cleartrust.agent.idle_timeout=20 Mins
cleartrust.agent.auto_challenge=True
cleartrust.agent.fudge_factor=5 Mins
cleartrust.agent.cookie_domain=.dev.qintra.com
cleartrust.agent.path=/
# Set to true if ONLY https is exclusively used, else set to False.
cleartrust.agent.secure=False
cleartrust.agent.set_cookie_secure=False
cleartrust.agent.cookie_expiration=0 Mins
cleartrust.agent.send_token_as_user_id=User
# Recommended. Not too useful unless cleartrust.agent.secure (above)
# is set to 'True', which limits cookie to being sent over https. NEVER
# set this to 'True' for Internet-facing sites or will fail for AOL users.
# But setting to True can prevent cookie hijacking via XSS, etc.
cleartrust.agent.cookie_ip_check=False
# For Squid proxies, only added for non-SSL requests.
cleartrust.agent.trusted_proxy_header_name=X-Forwarded-For
# List of internal Qwest Squid proxies, as of 6/1/2005.
cleartrust.agent.trusted_proxy_list=10.1.239.141,10.1.239.142,10.1.239.201,10.1.239.202,10.6.208.10,10.6.208.11,10.6.208.12,10.6.208.13
cleartrust.agent.trusted_proxy_strict_mode=False
cleartrust.agent.cookie_touch_window=30 Secs
cleartrust.agent.allow_subnet_masking=False
cleartrust.agent.ip_check_exclusion_list=
cleartrust.agent.cookie_exclusion_list=
cleartrust.agent.cookie_port_exclusion_list=
cleartrust.agent.httponly=True
cleartrust.agent.exported_headers=\
ct-session-init-time       = ct-session-init-time + \
                             sc-session-init-time, \
ct-session-expiration-time = ct-session-expiration-time +\
                             sc-session-expiration-time, \
ct-last-touch-time         = ct-last-touch-time + \
                             sc-last-touch-time, \
ct-cookie-user-buffer      = sc-cookie-user-buffer +\
                             sc-cookie-user-buffer, \
ct-remote-user             = ct-remote-user, \
ct-auth-type               = ct-auth-type, \
ct-web-svr-id              = ct-web-svr-id, \
ct-sd-sys-id               = ct-sd-sys-id, \
ct-user-properties-list    = ct_user_properties_list, \
ct-ext-result              = ,\
ct-ext-result-cleartext    =
cleartrust.agent.export_headers_for_protected_resources_only=
cleartrust.agent.userprops=x-ctallgroups
cleartrust.agent.userprops_level=AuthN
cleartrust.agent.multivalue_userprops_oneset=True
cleartrust.agent.one_userprops_header=False
cleartrust.agent.strict_headers_export=True
cleartrust.agent.ct_print_log_level=None
cleartrust.agent.form_based_enabled=True
cleartrust.agent.externalize_forms=False
cleartrust.agent.retain_url=False
cleartrust.agent.retain_url.use_full_url=True
cleartrust.agent.retain_url.use_full_url_for_ct_orig_uri=False
cleartrust.agent.retain_url.use_query_string=False
cleartrust.agent.retain_url.preserve_query_string=False
cleartrust.agent.retain_url.use_parameter=Both
cleartrust.agent.retain_url.redirect_to_ct_home=Mode1
cleartrust.agent.exclude_port_for_retained_url=
cleartrust.agent.realm=CT
cleartrust.agent.ignore_http_auth=False
cleartrust.agent.auth_header_with_value_null=True
cleartrust.agent.set_basic_auth_header=True
cleartrust.agent.shared_secret=
cleartrust.agent.custom_auth=
#
# Allowable modes are: BASIC, NT, SECURID, CERTIFICATE, IWA, NTLM
# ECOM and FOSS deployments use BASIC for EMPLOYEE and CONSUMER pools and
# either CERTIFICATE or BASIC for the PARTNER pool.
# For the authentication type if using the EMPLOYEE or CONSUMER instance
# currently there is only a single choice of 'BASIC'.
# Later, SECURID may be a valid choice for EMPLOYEE. For PARTNER,
# CERTIFICATE and username/password (BASIC) are supported.
cleartrust.agent.auth_resource_list=/*=BASIC
cleartrust.agent.default_auth_mode=BASIC
cleartrust.agent.attempt_multiple_authentications=False
cleartrust.agent.certdn_attr_name_map=
cleartrust.agent.reverse_certificate_dn=True
cleartrust.agent.convert_certificate_dn_delimiter=True
cleartrust.agent.default_language=en
cleartrust.agent.accepted_languages_list=
cleartrust.agent.url_inclusion_list=
#
# This is something common that application teams may wish to tweak.
# It is mentioned in the ECOM Requirements Doc.
# Workaround IE Discussion toolbar problem when AxM agent installed in Apache
cleartrust.agent.url_exclusion_list=/_vti_bin/owssvr.dll,/MSOffice/cltreq.asp
#
# You may want to remove js (JavaScript) and css (Cascading Style Sheets)
# here if they need contain sensitive data that needs to be protected,
# however it will hurt performance somewhat.
cleartrust.agent.extension_exclusion_list=gif,jpg,png,ico,css,js
cleartrust.agent.apache.pass_realms=!*
# Default ClearTrust pages; tweak as desired or override in VirtualHosts
# Minimally, if your site's URL is http://ecom2.uswc.uswest.com/myappl then
# you need to make these pages /myappl/appsec/pagename so the Cisco CSS
# or other load-balancer can resolve to the correct Apache site.  You may
# remove the leading '/myappl' part if you access your site via unique
# server name (e.g., host name or via DNS alias), such as
# http://myappl.qintra.com/.
cleartrust.agent.login_home_location=/cleartrust/home_<%language%>.html
cleartrust.agent.login_form_location_iwa=
cleartrust.agent.logout_form_location=/cleartrust/logout_<%language%>.html
cleartrust.agent.login_form_location_basic=/cleartrust/basicLogin_<%language%>.html
cleartrust.agent.login_error_user_location_basic=/cleartrust/loginErrorUserBasic_<%language%>.html
cleartrust.agent.login_error_pw_location_basic=/cleartrust/loginErrorPwLocationBasic_<%language%>.html
cleartrust.agent.login_form_location_nt=
cleartrust.agent.login_error_user_location_nt=
cleartrust.agent.login_error_pw_location_nt=
cleartrust.agent.login_error_password_expired=/cleartrust/loginErrorPasswordExpired_<%language%>.html
cleartrust.agent.login_error_password_expired_forced=/cleartrust/loginErrorPasswordExpiredForced_<%language%>.html
cleartrust.agent.login_error_password_expired_new_user=/cleartrust/loginErrorPasswordExpiredNewUser_<%language%>.html
cleartrust.agent.login_form_location_custom=
cleartrust.agent.login_error_user_location_custom=
cleartrust.agent.login_error_pw_location_custom=/cleartrust/logon_failed_custom_<%language%>.html
cleartrust.agent.login_cert_invalid_user=/cleartrust/loginCertInvalidUser_<%language%>.html
cleartrust.agent.login_auth_inactive_account=/cleartrust/loginAuthInactiveAccount_<%language%>.html
cleartrust.agent.login_auth_expired_account=/cleartrust/loginAuthExpiredAccount_<%language%>.html
cleartrust.agent.login_auth_user_locked_out=/cleartrust/loginAuthLockedOut_<%language%>.html
cleartrust.agent.login_auth_url_access_denied=/cleartrust/loginAuthUrlAccessDenied_<%language%>.html
cleartrust.agent.login_server_error=/cleartrust/loginServerError_<%language%>.html
# SecurID-related pages
# Default pool if not set in VirtualHost section.
cleartrust.agent.server_pool=EMPLOYEE-Test
cleartrust.agent.rules_file=extras/rules.xml
cleartrust.agent.auth_type_mapping=
cleartrust.agent.cookie_name=APPSEC_EMP_SESSION
# May be overridden in VirtualHost section(s).
cleartrust.agent.enabled=True
cleartrust.agent.post_url_idle_timeout=0 Secs
cleartrust.agent.post_url_idle_timeout_list=
cleartrust.agent.extended_results=
cleartrust.agent.client_encoding=UTF-8
cleartrust.agent.trusted_domains_list=dev.qintra.com,qwest.com,centurylink.com
cleartrust.agent.clear_retention_cookie_after_use=True
cleartrust.agent.auth_server_submode=
#cleartrust.agent.encrypted_store=webagent.sec
cleartrust.agent.apache_user_name=nobody
cleartrust.agent.post_data_loss_url=/cleartrust/loginAuthUrlAccessDenied_<%language%>.html
cleartrust.agent.startupfailuremode=soft
# The following are for the Adaptive Authentication feature of Access Manager,
# which is not supported in Qwest (do not change)
cleartrust.agent.aa.enabled=False
cleartrust.agent.aa_silent_mode=False
cleartrust.agent.aa.enroll_page=/index.jsp
cleartrust.agent.aa.oob_passcode_page=/index.jsp
cleartrust.agent.aa.enroll_images_page=/index.jsp
cleartrust.agent.aa.challenge_page=/index.jsp
cleartrust.agent.aa.allow_on_failure=
cleartrust.agent.aa.cookie_expiration=
cleartrust.agent.aa.cookie_name=
cleartrust.agent.language_cookie_name=
cleartrust.agent.core_file_path=/opt/apache/qwest/websites/vmsu-int1-30150-40136/logs
</Global>

<Pool id=EMPLOYEE-Test>
cleartrust.agent.dispatcher_list=ct-disp-net1.dev.qintra.com:6608,ct-disp-net2.dev.qintra.com:6608
cleartrust.agent.dispatcher_timeout=10 Secs
cleartrust.agent.auth_server_pool_refresh=1 Hrs
cleartrust.agent.ssl.use=Anon
cleartrust.agent.ssl.keystore=
cleartrust.agent.ssl.ca_keystore=
cleartrust.agent.ssl.keystore_passphrase=
cleartrust.agent.ssl.private_key_passphrase=
cleartrust.agent.ssl.private_key_alias=
cleartrust.agent.ssl.ca_keystore_passphrase=
cleartrust.agent.auth_server_list=
cleartrust.agent.auth_server_timeout=30 Secs
cleartrust.agent.dispatcher_mode=RANDOMIZED
cleartrust.agent.auth_server_mode=DISTRIBUTED
cleartrust.agent.location_class_priority=
cleartrust.agent.keyserver_list=
cleartrust.agent.key_client_name=
cleartrust.agent.key_client_secret=
cleartrust.agent.retry_count=5
cleartrust.agent.socket_tcp_nodelay=True
cleartrust.agent.max_open_connections=0
</Pool>
<Pool id=CONSUMER-Test>
cleartrust.agent.dispatcher_list=ct-disp-net1.dev.qintra.com:5608,ct-disp-net2.dev.qintra.com:5608
cleartrust.agent.dispatcher_timeout=10 Secs
cleartrust.agent.auth_server_pool_refresh=1 Hrs
cleartrust.agent.ssl.use=Anon
cleartrust.agent.ssl.keystore=
cleartrust.agent.ssl.ca_keystore=
cleartrust.agent.ssl.keystore_passphrase=
cleartrust.agent.ssl.private_key_passphrase=
cleartrust.agent.ssl.private_key_alias=
cleartrust.agent.ssl.ca_keystore_passphrase=
cleartrust.agent.auth_server_timeout=30 Secs
cleartrust.agent.dispatcher_mode=RANDOMIZED
cleartrust.agent.auth_server_mode=DISTRIBUTED
cleartrust.agent.location_class_priority=
cleartrust.agent.keyserver_list=
cleartrust.agent.key_client_name=
cleartrust.agent.key_client_secret=
cleartrust.agent.retry_count=5
cleartrust.agent.socket_tcp_nodelay=True
cleartrust.agent.max_open_connections=0
</Pool>
<Pool id=PARTNER-Test>
cleartrust.agent.dispatcher_list=ct-disp-net1.dev.qintra.com:7608,ct-disp-net2.dev.qintra.com:7608
cleartrust.agent.dispatcher_timeout=10 Secs
cleartrust.agent.auth_server_pool_refresh=1 Hrs
cleartrust.agent.ssl.use=Anon
cleartrust.agent.ssl.keystore=
cleartrust.agent.ssl.ca_keystore=
cleartrust.agent.ssl.keystore_passphrase=
cleartrust.agent.ssl.private_key_passphrase=
cleartrust.agent.ssl.private_key_alias=
cleartrust.agent.ssl.ca_keystore_passphrase=
cleartrust.agent.auth_server_timeout=30 Secs
cleartrust.agent.dispatcher_mode=RANDOMIZED
cleartrust.agent.auth_server_mode=DISTRIBUTED
cleartrust.agent.location_class_priority=
cleartrust.agent.keyserver_list=
cleartrust.agent.key_client_name=
cleartrust.agent.key_client_secret=
cleartrust.agent.retry_count=5
cleartrust.agent.socket_tcp_nodelay=True
cleartrust.agent.max_open_connections=0
</Pool>

# If using Mod_Cluster config "port" section of "VirtualHost" as next line indicates
# <VirtualHost name=*  address=*  port=HTTP Port,HTTPS Port,80,443>
<VirtualHost name=* address=* port=*>
cleartrust.agent.enabled=True
cleartrust.agent.cookie_name=APPSEC_EMP_SESSION
cleartrust.agent.server_pool=EMPLOYEE-Test
cleartrust.agent.web_server_name=ctl.foss.mdw
cleartrust.agent.idle_timeout=240 Mins
cleartrust.agent.login_home_location=/mdw/taskList/myTasks
cleartrust.agent.logout_form_location=/mdw/authentication/logout.jsf
cleartrust.agent.login_form_location_basic=/mdw/authentication/login.jsf
cleartrust.agent.login_error_user_location_basic=/mdw/authentication/loginError.jsf
cleartrust.agent.login_error_pw_location_basic=/mdw/authentication/loginError.jsf
cleartrust.agent.login_error_password_expired=/mdw/authentication/loginError.jsf
cleartrust.agent.login_error_password_expired_forced=/mdw/authentication/loginError.jsf
cleartrust.agent.login_error_password_expired_new_user=/mdw/authentication/loginError.jsf
cleartrust.agent.login_auth_inactive_account=/mdw/authentication/loginError.jsf
cleartrust.agent.login_auth_expired_account=/mdw/authentication/loginError.jsf
cleartrust.agent.login_auth_user_locked_out=/mdw/authentication/loginError.jsf
cleartrust.agent.login_auth_url_access_denied=/mdw/authentication/loginError.jsf
cleartrust.agent.login_server_error=/mdw/authentication/loginError.jsf
</VirtualHost>

# Uncomment the below section if using Mod_Cluster
#<VirtualHost name=* address=* port=*>
#cleartrust.agent.enabled=False
#</VirtualHost>