 println 'verifying Value service '

def postReq = post http("Services/Values/Solution/1002") {
  payload = asset('com.centurylink.mdw.testing/Values.json').text
}

def postUpdateReq = post http("Services/Values/Solution/1002/updateOnly") {
  payload = asset('com.centurylink.mdw.testing/Values.json').text
}

def resp = get http("Services/Values/Solution/1002?format=json")

def values = new groovy.json.JsonSlurper().parseText(resp.getContent())

assert values.MyValue1 == "One"
assert values.MyValue2 == "Two"

def deleteReq = delete http("Services/Values/Solution/1002") {
  payload = {}
}

values = new groovy.json.JsonSlurper().parseText(deleteReq.getContent())
assert values.status.message == "Success"
