<bpm:processDefinition schemaVersion="5.5" xmlns:bpm="http://mdw.centurylink.com/bpm">
  <bpm:Process Id="MainProcess" name="DocumentChange" version="0.3" description="">
    <bpm:Activity Id="A1" Name="Start" Implementation="com.centurylink.mdw.workflow.activity.process.ProcessStartActivity">
      <bpm:Attribute Name="WORK_DISPLAY_INFO" Value="x=21,y=154,w=60,h=40"/>
    </bpm:Activity>
    <bpm:Activity Id="A6" Name="Create&#13;&#10;Java Objects" Implementation="com.centurylink.mdw.workflow.activity.script.ScriptExecutorActivity">
      <bpm:Attribute Name="Output Documents" Value="changedJavaObject#unchangedJavaObject"/>
      <bpm:Attribute Name="Rule" Value="import com.centurylink.mdw.model.value.user.AuthenticatedUser&#13;&#10;&#13;&#10;// initial creation of binary java objects&#13;&#10;println 'creating java object documents....'&#13;&#10;&#13;&#10;changedJavaObject = new AuthenticatedUser();&#13;&#10;changedJavaObject.setCuid 'dxoakes';&#13;&#10;changedJavaObject.setFirstName 'Donald';&#13;&#10;changedJavaObject.setLastName 'Oakes';&#13;&#10;&#13;&#10;unchangedJavaObject = new AuthenticatedUser();&#13;&#10;unchangedJavaObject.setCuid 'dxoakes';&#13;&#10;unchangedJavaObject.setFirstName 'Donald';&#13;&#10;unchangedJavaObject.setLastName 'Oakes';&#13;&#10;"/>
      <bpm:Attribute Name="SCRIPT" Value="Groovy"/>
      <bpm:Attribute Name="WORK_DISPLAY_INFO" Value="x=135,y=143,w=110,h=70"/>
    </bpm:Activity>
    <bpm:Activity Id="A5" Name="Change&#13;&#10;Non-Output Docs" Implementation="com.centurylink.mdw.workflow.activity.script.ScriptExecutorActivity">
      <bpm:Attribute Name="Rule" Value="println 'changing read-only doc vars'&#13;&#10;&#13;&#10;import org.apache.xmlbeans.XmlObject&#13;&#10;import org.json.JSONObject&#13;&#10;&#13;&#10;import com.centurylink.mdw.model.FormDataDocument&#13;&#10;import com.centurylink.mdw.model.value.user.AuthenticatedUser&#13;&#10;&#13;&#10;println 'changing some doc vars'&#13;&#10;&#13;&#10;// changedDomDoc&#13;&#10;//changedDomDoc = (org.w3c.dom.Document) changedDomDoc;&#13;&#10;//&#13;&#10;//def album = changedDomDoc.createElement('Album')&#13;&#10;//album.setAttribute('name', 'The Head on the Door')&#13;&#10;//album.setAttribute('year', '1985')&#13;&#10;//changedDomDoc.getDocumentElement().appendChild(album)&#13;&#10;//&#13;&#10;//def artist = changedDomDoc.createElement('Artist')&#13;&#10;//artist.setTextContent('The Cure')&#13;&#10;//album.appendChild(artist)&#13;&#10;&#13;&#10;// changedFormDataDoc&#13;&#10;//changedFormDataDoc = (FormDataDocument) changedFormDataDoc&#13;&#10;//changedFormDataDoc.setMetaValue 'FORM', 'newFormValue'&#13;&#10;&#13;&#10;// changedGroovyNode&#13;&#10;//changedGroovyNode = (groovy.util.Node) changedGroovyNode;&#13;&#10;//Map&lt;String,String> attrs = new HashMap&lt;String,String>();&#13;&#10;//attrs.put 'name', 'Sound Affects'&#13;&#10;//attrs.put 'year', '1980'&#13;&#10;//soundAffects = changedGroovyNode.appendNode('Album', attrs)&#13;&#10;//soundAffects.appendNode('Artist', 'The Jam')&#13;&#10;&#13;&#10;// changedJavaObject&#13;&#10;//changedJavaObject = (AuthenticatedUser) changedJavaObject&#13;&#10;//changedJavaObject.setCuid 'sidhug'&#13;&#10;//changedJavaObject.setFirstName 'Gary'&#13;&#10;//changedJavaObject.setLastName 'Sidhu'&#13;&#10;&#13;&#10;// changedJson&#13;&#10;//changedJson = (JSONObject) changedJson;&#13;&#10;//room = new JSONObject('{  name: &quot;bathroom&quot;, floor: &quot;second&quot; }');&#13;&#10;//changedJson.house.rooms.put(room);&#13;&#10;&#13;&#10;// changedStringDoc&#13;&#10;//changedStringDoc = 'Early to bed, early to rise; makes a man healthy, wealthy and wise.'&#13;&#10;&#13;&#10;// changedXmlBean&#13;&#10;changedXmlBean = (XmlObject) changedXmlBean&#13;&#10;def cursor = changedXmlBean.newCursor()&#13;&#10;cursor.toChild 'EightiesMusic'&#13;&#10;cursor.toChild 'Album'&#13;&#10;cursor.insertElement 'Album'&#13;&#10;cursor.toPrevSibling();&#13;&#10;cursor.toNextToken();&#13;&#10;cursor.insertAttributeWithValue 'name', 'Special Beat Service'&#13;&#10;cursor.insertAttributeWithValue 'year', '1982'&#13;&#10;cursor.insertElementWithText 'Artist', 'The English Beat'&#13;&#10;cursor.dispose()&#13;&#10;&#13;&#10;// changedXmlBeanWrapper&#13;&#10;//changedXmlBeanWrapper = (com.centurylink.mdw.model.ActionRequestXmlBeanWrapper) changedXmlBeanWrapper&#13;&#10;//changedXmlBeanWrapper.addParameter('frequency', 'EVERYDAY')"/>
      <bpm:Attribute Name="SCRIPT" Value="Groovy"/>
      <bpm:Attribute Name="WORK_DISPLAY_INFO" Value="x=451,y=256,w=112,h=72"/>
    </bpm:Activity>
    <bpm:Activity Id="A2" Name="Stop" Implementation="com.centurylink.mdw.workflow.activity.process.ProcessFinishActivity">
      <bpm:Attribute Name="WORK_DISPLAY_INFO" Value="x=695,y=149,w=60,h=40"/>
    </bpm:Activity>
    <bpm:Activity Id="A4" Name="Outcome" Implementation="com.centurylink.mdw.workflow.activity.script.ScriptEvaluator">
      <bpm:Attribute Name="Expression" Value="outcome"/>
      <bpm:Attribute Name="SCRIPT" Value="Groovy"/>
      <bpm:Attribute Name="WORK_DISPLAY_INFO" Value="x=304,y=151,w=60,h=40"/>
    </bpm:Activity>
    <bpm:Activity Id="A3" Name="Change&#13;&#10;Output Docs" Implementation="com.centurylink.mdw.workflow.activity.script.ScriptExecutorActivity">
      <bpm:Attribute Name="Output Documents" Value="changedDomDoc#changedFormDataDoc#changedGroovyNode#changedJavaObject#changedJson#changedStringDoc#changedXmlBean#changedXmlBeanWrapper"/>
      <bpm:Attribute Name="Rule" Value="import org.apache.xmlbeans.XmlObject&#13;&#10;import org.json.JSONObject&#13;&#10;&#13;&#10;import com.centurylink.mdw.model.FormDataDocument&#13;&#10;import com.centurylink.mdw.model.value.user.AuthenticatedUser&#13;&#10;&#13;&#10;println 'changing some doc vars'&#13;&#10;&#13;&#10;// changedDomDoc&#13;&#10;changedDomDoc = (org.w3c.dom.Document) changedDomDoc;&#13;&#10;&#13;&#10;def album = changedDomDoc.createElement('Album')&#13;&#10;album.setAttribute('name', 'The Head on the Door')&#13;&#10;album.setAttribute('year', '1985') &#13;&#10;changedDomDoc.getDocumentElement().appendChild(album)&#13;&#10;&#13;&#10;def artist = changedDomDoc.createElement('Artist')&#13;&#10;artist.setTextContent('The Cure')&#13;&#10;album.appendChild(artist)&#13;&#10;&#13;&#10;// changedFormDataDoc&#13;&#10;changedFormDataDoc = (FormDataDocument) changedFormDataDoc&#13;&#10;changedFormDataDoc.setMetaValue 'FORM', 'newFormValue'&#13;&#10;&#13;&#10;// changedGroovyNode&#13;&#10;changedGroovyNode = (groovy.util.Node) changedGroovyNode;&#13;&#10;Map&lt;String,String> attrs = new HashMap&lt;String,String>();&#13;&#10;attrs.put 'name', 'Sound Affects'&#13;&#10;attrs.put 'year', '1980'&#13;&#10;soundAffects = changedGroovyNode.appendNode('Album', attrs)&#13;&#10;soundAffects.appendNode('Artist', 'The Jam')&#13;&#10;&#13;&#10;// changedJavaObject&#13;&#10;changedJavaObject = (AuthenticatedUser) changedJavaObject&#13;&#10;changedJavaObject.setCuid 'sidhug'&#13;&#10;changedJavaObject.setFirstName 'Gary'&#13;&#10;changedJavaObject.setLastName 'Sidhu'&#13;&#10;&#13;&#10;// changedJson&#13;&#10;changedJson = (JSONObject) changedJson;&#13;&#10;room = new JSONObject('{  name: &quot;bathroom&quot;, floor: &quot;second&quot; }');&#13;&#10;changedJson.house.rooms.put(room);&#13;&#10;&#13;&#10;// changedStringDoc&#13;&#10;changedStringDoc = 'Early to bed, early to rise; makes a man healthy, wealthy and wise.'&#13;&#10;&#13;&#10;// changedXmlBean&#13;&#10;changedXmlBean = (XmlObject) changedXmlBean&#13;&#10;def cursor = changedXmlBean.newCursor()&#13;&#10;cursor.toChild 'EightiesMusic'&#13;&#10;cursor.toChild 'Album'&#13;&#10;cursor.insertElement 'Album'&#13;&#10;cursor.toPrevSibling();&#13;&#10;cursor.toNextToken();&#13;&#10;cursor.insertAttributeWithValue 'name', 'Special Beat Service'&#13;&#10;cursor.insertAttributeWithValue 'year', '1982'&#13;&#10;cursor.insertElementWithText 'Artist', 'The English Beat'&#13;&#10;cursor.dispose()&#13;&#10;&#13;&#10;// changedXmlBeanWrapper&#13;&#10;changedXmlBeanWrapper = (com.centurylink.mdw.model.ActionRequestXmlBeanWrapper) changedXmlBeanWrapper&#13;&#10;changedXmlBeanWrapper.addParameter('frequency', 'EVERYDAY')&#13;&#10;&#13;&#10;&#13;&#10;&#13;&#10;"/>
      <bpm:Attribute Name="SCRIPT" Value="Groovy"/>
      <bpm:Attribute Name="WORK_DISPLAY_INFO" Value="x=450,y=21,w=113,h=73"/>
    </bpm:Activity>
    <bpm:Transition CompletionCode="" From="A3" To="A2" Event="FINISH" Id="T1">
      <bpm:Attribute Name="TRANSITION_DISPLAY_INFO" Value="lx=632,ly=114,type=Elbow,xs=567&amp;691,ys=57&amp;169"/>
    </bpm:Transition>
    <bpm:Transition CompletionCode="change" From="A4" To="A3" Event="FINISH" Id="T1">
      <bpm:Attribute Name="TRANSITION_DISPLAY_INFO" Value="lx=419,ly=147,type=Elbow,xs=368&amp;507&amp;507,ys=168&amp;168&amp;98"/>
    </bpm:Transition>
    <bpm:Transition CompletionCode="nochange" From="A4" To="A5" Event="FINISH" Id="T2">
      <bpm:Attribute Name="TRANSITION_DISPLAY_INFO" Value="lx=416,ly=179,type=ElbowH,xs=368&amp;506&amp;506,ys=175&amp;175&amp;252"/>
    </bpm:Transition>
    <bpm:Transition CompletionCode="" From="A5" To="A2" Event="FINISH" Id="T3">
      <bpm:Attribute Name="TRANSITION_DISPLAY_INFO" Value="lx=640,ly=230,type=Elbow,xs=567&amp;691,ys=292&amp;169"/>
    </bpm:Transition>
    <bpm:Transition CompletionCode="" From="A6" To="A4" Event="FINISH" Id="T1">
      <bpm:Attribute Name="TRANSITION_DISPLAY_INFO" Value="lx=275,ly=171,type=Elbow,xs=249&amp;300,ys=171&amp;171"/>
    </bpm:Transition>
    <bpm:Transition CompletionCode="" From="A1" To="A6" Event="FINISH" Id="T1">
      <bpm:Attribute Name="TRANSITION_DISPLAY_INFO" Value="lx=52,ly=116,type=Elbow,xs=85&amp;131,ys=174&amp;174"/>
    </bpm:Transition>
    <bpm:Attribute Name="ArrowStyle" Value="ArrowEnd"/>
    <bpm:Attribute Name="NodeStyle" Value="BoxIcon"/>
    <bpm:Attribute Name="PROCESS_VISIBILITY" Value="PUBLIC"/>
    <bpm:Attribute Name="SLA" Value="0"/>
    <bpm:Attribute Name="SLA_UNIT" Value="Seconds"/>
    <bpm:Attribute Name="START_TRANSITION_ID" Value="2346077"/>
    <bpm:Attribute Name="WORK_DISPLAY_INFO" Value="x=14,y=15,w=161,h=27"/>
    <bpm:Variables Name="changedDomDoc" ReferredAs="" Category="INPUT" DisplaySequence="0">
      <bpm:type Name="org.w3c.dom.Document"/>
    </bpm:Variables>
    <bpm:Variables Name="changedFormDataDoc" ReferredAs="" Category="INPUT" DisplaySequence="0">
      <bpm:type Name="com.centurylink.mdw.model.FormDataDocument"/>
    </bpm:Variables>
    <bpm:Variables Name="changedGroovyNode" ReferredAs="" Category="INPUT" DisplaySequence="0">
      <bpm:type Name="groovy.util.Node"/>
    </bpm:Variables>
    <bpm:Variables Name="changedJavaObject" ReferredAs="" Category="LOCAL" DisplaySequence="0">
      <bpm:type Name="java.lang.Object"/>
    </bpm:Variables>
    <bpm:Variables Name="changedJson" ReferredAs="" Category="INPUT" DisplaySequence="0">
      <bpm:type Name="org.json.JSONObject"/>
    </bpm:Variables>
    <bpm:Variables Name="changedStringDoc" ReferredAs="" Category="INPUT" DisplaySequence="0">
      <bpm:type Name="com.centurylink.mdw.model.StringDocument"/>
    </bpm:Variables>
    <bpm:Variables Name="changedXmlBean" ReferredAs="" Category="INPUT" DisplaySequence="0">
      <bpm:type Name="org.apache.xmlbeans.XmlObject"/>
    </bpm:Variables>
    <bpm:Variables Name="changedXmlBeanWrapper" ReferredAs="" Category="INPUT" DisplaySequence="0">
      <bpm:type Name="com.centurylink.mdw.xml.XmlBeanWrapper"/>
    </bpm:Variables>
    <bpm:Variables Name="outcome" ReferredAs="" Category="INPUT" DisplaySequence="0">
      <bpm:type Name="java.lang.String"/>
    </bpm:Variables>
    <bpm:Variables Name="unchangedDomDoc" ReferredAs="" Category="INPUT" DisplaySequence="0">
      <bpm:type Name="org.w3c.dom.Document"/>
    </bpm:Variables>
    <bpm:Variables Name="unchangedFormDataDoc" ReferredAs="" Category="INPUT" DisplaySequence="0">
      <bpm:type Name="com.centurylink.mdw.model.FormDataDocument"/>
    </bpm:Variables>
    <bpm:Variables Name="unchangedGroovyNode" ReferredAs="" Category="INPUT" DisplaySequence="0">
      <bpm:type Name="groovy.util.Node"/>
    </bpm:Variables>
    <bpm:Variables Name="unchangedJavaObject" ReferredAs="" Category="LOCAL" DisplaySequence="0">
      <bpm:type Name="java.lang.Object"/>
    </bpm:Variables>
    <bpm:Variables Name="unchangedJson" ReferredAs="" Category="INPUT" DisplaySequence="0">
      <bpm:type Name="org.json.JSONObject"/>
    </bpm:Variables>
    <bpm:Variables Name="unchangedStringDoc" ReferredAs="" Category="INPUT" DisplaySequence="0">
      <bpm:type Name="com.centurylink.mdw.model.StringDocument"/>
    </bpm:Variables>
    <bpm:Variables Name="unchangedXmlBean" ReferredAs="" Category="INPUT" DisplaySequence="0">
      <bpm:type Name="org.apache.xmlbeans.XmlObject"/>
    </bpm:Variables>
    <bpm:Variables Name="unchangedXmlBeanWrapper" ReferredAs="" Category="INPUT" DisplaySequence="0">
      <bpm:type Name="com.centurylink.mdw.xml.XmlBeanWrapper"/>
    </bpm:Variables>
  </bpm:Process>
</bpm:processDefinition>